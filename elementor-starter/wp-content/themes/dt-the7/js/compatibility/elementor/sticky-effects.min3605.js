!function(e){"use strict";e.the7StickyRow=function(t){let i,n,c,s=e(t),o=!1,f={};s.vars={},e.data(t,"the7StickyRow",s),f={init:function(){i=new The7ElementorSettings(s),c=i.getModelCID(),elementorFrontend.isEditMode()&&elementor.channels.data.on("element:destroy",f.onDestroy),s.refresh(),f.bindEvents(),f.toggle=elementorFrontend.debounce(f.toggle,300)},bindEvents:function(){elementorFrontend.elements.$window.on("resize",f.toggle),elementorFrontend.elements.$window.on("scroll",f.toggle),s.on("the7-sticky:effect-active",f.onStick),s.on("the7-sticky:effect-not-active",f.onUnStick)},unBindEvents:function(){elementorFrontend.elements.$window.off("resize",f.toggle),elementorFrontend.elements.$window.off("scroll",f.toggle),s.off("the7-sticky:effect-active",f.onStick),s.off("the7-sticky:effect-not-active",f.onUnStick)},toggle:function(){if(void 0!==n){var e,t=elementorFrontend.getCurrentDeviceMode();if("yes"===n.the7_sticky_effects)!(e=n.the7_sticky_effects_devices)||-1!==e.indexOf(t)?f.activateEffects():f.deactivateEffects();else f.deactivateEffects();if("yes"!==n.the7_sticky_row||n.sticky)f.deactivateSticky();else!(e=n.the7_sticky_row_devices)||-1!==e.indexOf(t)?f.activateSticky():f.deactivateSticky()}},onStick:function(){s.find(".the7-e-on-sticky-effect-visibility").each((function(){var t=e(this).data("the7StickyEffectElementHide");void 0!==t&&t.onStick()}))},onUnStick:function(){s.find(".the7-e-on-sticky-effect-visibility").each((function(){var t=e(this).data("the7StickyEffectElementHide");void 0!==t&&t.onUnStick()}))},refresh:function(){},activateEffects:function(){o||(o=!0,s.reactivateSticky())},deactivateEffects:function(){o&&(o=!1,s.reactivateSticky())},activateSticky:function(){if(!f.isStickyInstanceActive()&&!s.hasClass("elementor-sticky")){var e={to:"top",offset:i.getCurrentDeviceSetting("the7_sticky_row_offset"),effectsOffset:i.getCurrentDeviceSetting("the7_sticky_effects_offset"),classes:{sticky:"the7-e-sticky",stickyActive:"the7-e-sticky-active",stickyEffects:"the7-e-sticky-effects",spacer:"the7-e-sticky-spacer"}},t=elementorFrontend.elements.$wpAdminBar;if(o||(e.classes.stickyEffects=""),t.length&&"fixed"===t.css("position")){var n=t.height();e.offset+=n,e.extraOffset=n}s.The7Sticky(e)}},deactivateSticky:function(){f.isStickyInstanceActive()&&(s.The7Sticky("destroy"),s.removeClass("the7-e-sticky-effects"))},isStickyInstanceActive:function(){return void 0!==s.data("the7-sticky")},onDestroy:function(e){e.cid===c&&s.delete()}},s.refresh=function(){n=i.getSettings(),f.toggle(),f.refresh()},s.delete=function(){f.unBindEvents(),f.deactivateEffects(),f.deactivateSticky(),s.removeData("the7StickyRow")},s.reactivateSticky=function(){f.isStickyInstanceActive()&&(n=i.getSettings(),f.deactivateSticky(),f.activateSticky())},f.init()};var t=function(t){t.each((function(){var t=e(this);if(t.hasClass("the7-e-sticky-yes")||t.hasClass("the7-e-sticky-row-yes")){if(t.hasClass("the7-e-sticky-spacer")||t.hasClass("elementor-inner-section"))return;var i=e(this).data("the7StickyRow");void 0!==i&&i.delete(),new e.the7StickyRow(this)}}))};e.the7StickyEffectElementHide=function(t){var i,n,c,s=e(t),o="",f={effect:"the7-e-on-sticky-effect-visibility",hide:"the7-e-on-sticky-effect-visibility-hide",show:"the7-e-on-sticky-effect-visibility-show"},a={};s.vars={animDelay:500},e.data(t,"the7StickyEffectElementHide",s),a={init:function(){i=new The7ElementorSettings(s),n=i.getModelCID(),elementorFrontend.isEditMode()&&elementor.channels.data.on("element:destroy",a.onDestroy),s.refresh(),a.bindEvents(),a.toggle=elementorFrontend.debounce(a.toggle,300)},bindEvents:function(){elementorFrontend.elements.$window.on("resize",a.toggle)},unBindEvents:function(){elementorFrontend.elements.$window.off("resize",a.toggle)},toggle:function(){var e=i.getCurrentDeviceSetting("the7_hide_on_sticky_effect");void 0!==e&&(""!==e?a.activateEffects(e):a.deactivateEffects())},activateEffects:function(e){o!==e&&""!==e&&(s.removeClass(f.hide),s.removeClass(f.show),s.addClass(f.effect),s.addClass(f[e]),o=e)},deactivateEffects:function(){""!==o&&(s.removeClass(f.hide),s.removeClass(f.show),s.removeClass(f.effect),a.unsetHeight(),o="")},onDestroy:function(e){e.cid===n&&s.delete()},getHeight:function(){return s.outerHeight()},setHeight:function(e){s.css({height:e})},unsetHeight:function(){s.css({height:""})},updateHeight:function(){a.unsetHeight(),s.removeClass(f[o]),a.setHeight(a.getHeight()),window.setTimeout(a.addEffectClass,1)},addEffectClass:function(){s.addClass(f[o])}},s.refresh=function(){a.toggle()},s.onStick=function(){switch(o){case"hide":clearTimeout(c),a.updateHeight();break;case"show":c=window.setTimeout(a.unsetHeight,s.vars.animDelay)}},s.onUnStick=function(){switch(o){case"hide":c=window.setTimeout(a.unsetHeight,s.vars.animDelay);break;case"show":clearTimeout(c),a.updateHeight()}},s.delete=function(){a.unBindEvents(),a.deactivateEffects(),s.removeData("the7StickyEffectElementHide")},a.init()};var i=function(t){t.each((function(){if(!e(this).hasClass("the7-e-sticky-spacer")){var t=e(this).data("the7StickyEffectElementHide");void 0!==t&&t.delete(),new e.the7StickyEffectElementHide(this)}}))};e(window).on("elementor/frontend/init",(function(){function n(e){t(e);let n=new The7ElementorSettings(e).getSettings();if(void 0!==n){The7ElementorSettings.getResponsiveSettingList("the7_hide_on_sticky_effect").some((function(e){return e in n&&""!==n[e]}))&&i(e)}}elementorFrontend.elements.$document.on("elementor/popup/show",(function(t,i,c){c.$element.find(".elementor-section").each((function(){n(e(this))}))})),elementorFrontend.hooks.addAction("frontend/element_ready/section",(function(e,t){t(document).ready((function(){n(e)}))})),elementorFrontend.isEditMode()&&elementorEditorAddOnChangeHandler("section",(function(e,n){var c=[...The7ElementorSettings.getResponsiveSettingList("the7_sticky_row_offset"),...The7ElementorSettings.getResponsiveSettingList("the7_sticky_effects_offset"),"the7_sticky_row_overlap","the7_sticky_effects_devices","the7_sticky_effects"],s=["the7_sticky_row","the7_sticky_row_devices","sticky",...c],o=e.model.get("name");if(-1!==s.indexOf(o)){void 0!==(a=(f=window.jQuery(n.$el)).data("the7StickyRow"))?(a.refresh(),-1!==c.indexOf(o)&&a.reactivateSticky()):t(f)}if(-1!==[...The7ElementorSettings.getResponsiveSettingList("the7_hide_on_sticky_effect")].indexOf(o)){var f,a;void 0!==(a=(f=window.jQuery(n.$el)).data("the7StickyEffectElementHide"))?a.refresh():i(f)}}))}))}(jQuery);