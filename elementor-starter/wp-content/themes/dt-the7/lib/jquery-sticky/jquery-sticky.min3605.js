!function(t){var o=function(o,e){var s,i,r=!1,n=!1,c=!1,a=!1,f={},p={to:"top",offset:0,extraOffset:0,effectsOffset:0,parent:!1,classes:{sticky:"sticky",stickyActive:"sticky-active",stickyEffects:"sticky-effects",spacer:"sticky-spacer"}},l=function(t,o,e){var s={},i=t[0].style;e.forEach((function(t){if("object"==typeof t)for(var o in t)s[o]=t[o];else s[t]=void 0!==i[t]?i[t]:""})),t.data("the7-css-backup-"+o,s)},m=function(t,o){return t.data("the7-css-backup-"+o)},u=function(){l(s,"unsticky",["position","width","margin-top","margin-bottom","top","bottom"]);var t={position:"fixed",width:h(s,"width"),marginTop:0,marginBottom:0};t[i.to]=i.offset,t["top"===i.to?"bottom":"top"]="",f.$window.scrollTop()<=0&&!n&&(n=!0,l(s,"unabsolute",[t]),t.position="absolute",t.top=i.offset-i.extraOffset,t.bottom=""),s.css(t).addClass(i.classes.stickyActive)},d=function(){s.css(m(s,"unsticky")).removeClass(i.classes.stickyActive)},h=function(t,o,e){var s=getComputedStyle(t[0]),i=parseFloat(s[o]),r="height"===o?["top","bottom"]:["left","right"],n=[];return"border-box"!==s.boxSizing&&n.push("border","padding"),e&&n.push("margin"),n.forEach((function(t){r.forEach((function(o){i+=parseFloat(s[t+"-"+o])}))})),i},y=function(t){var o=f.$window.scrollTop(),e=h(t,"height"),s=innerHeight,i=t.offset().top-o,r=i-s;return{top:{fromTop:i,fromBottom:r},bottom:{fromTop:i+e,fromBottom:r+e}}},b=function(){f.$spacer=s.clone().addClass(i.classes.spacer).css({visibility:"hidden",transition:"none",animation:"none"}),s.after(f.$spacer),u(),r=!0,s.trigger("the7-sticky:stick")},v=function(){d(),f.$spacer.remove(),r=!1,s.trigger("the7-sticky:unstick")},k=function(){n=!1,s.css(m(s,"unabsolute"))},g=function(){var t=y(s),o="top"===i.to;if(c){(o?t.top.fromTop>i.offset:t.bottom.fromBottom<-i.offset)&&(f.$parent.css(m(f.$parent,"childNotFollowing")),s.css(m(s,"notFollowing")),c=!1)}else{var e=y(f.$parent),r=getComputedStyle(f.$parent[0]),n=parseFloat(r[o?"borderBottomWidth":"borderTopWidth"]),a=o?e.bottom.fromTop-n:e.top.fromBottom+n;(o?a<=t.bottom.fromTop:a>=t.top.fromBottom)&&function(){l(f.$parent,"childNotFollowing",["position"]),f.$parent.css("position","relative"),l(s,"notFollowing",["position","top","bottom"]);var t={position:"absolute"};t[i.to]="",t["top"===i.to?"bottom":"top"]=0,s.css(t),c=!0}()}},w=function(t){a&&-t<i.effectsOffset?(s.removeClass(i.classes.stickyEffects),f.$spacer.removeClass(i.classes.stickyEffects),a=!1,s.trigger("the7-sticky:effect-not-active")):!a&&-t>=i.effectsOffset&&(s.addClass(i.classes.stickyEffects),f.$spacer.addClass(i.classes.stickyEffects),a=!0,s.trigger("the7-sticky:effect-active"))},$=function(){var t,o=i.offset,e=f.$window.scrollTop();if(e<0&&w(0),e<=0&&r){if(!n){var c=y(f.$spacer);(t="top"===i.to?c.top.fromTop-o:-c.bottom.fromBottom-o)>0?v():function(){n=!0,l(s,"unabsolute",["position","top","bottom"]);var t={position:"absolute",top:i.offset-i.extraOffset,bottom:""};s.css(t)}(),w(t)}}else{if(r){n&&k();c=y(f.$spacer);t="top"===i.to?c.top.fromTop-o:-c.bottom.fromBottom-o,i.parent&&g(),t>0&&v()}else{var a=y(s);(t="top"===i.to?a.top.fromTop-o:-a.bottom.fromBottom-o)<=0&&(b(),i.parent&&g())}w(t)}},T=function(){$()},C=function(){r&&(n&&k(),d(),u(),i.parent&&(c=!1,g()))};this.destroy=function(){n&&k(),r&&v(),f.$window.off("scroll",T).off("resize",C),s.removeClass(i.classes.sticky)},i=jQuery.extend(!0,p,e),s=t(o).addClass(i.classes.sticky),f.$window=t(window),i.parent&&("parent"===i.parent?f.$parent=s.parent():f.$parent=s.closest(i.parent)),f.$window.on({scroll:T,resize:C}),$()};t.fn.The7Sticky=function(e){var s="string"==typeof e;return this.each((function(){var i=t(this);if(s){var r=i.data("the7-sticky");if(!r)throw Error("Trying to perform the `"+e+"` method prior to initialization");if(!r[e])throw ReferenceError("Method `"+e+"` not found in sticky instance");r[e].apply(r,Array.prototype.slice.call(arguments,1)),"destroy"===e&&i.removeData("the7-sticky")}else i.data("the7-sticky",new o(this,e))})),this}}(jQuery);